---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { PRODUCTS } from '../../consts';

const product = PRODUCTS.find(p => p.id === 'vulnerability-assessment')!;

const pricing = [
  {
    name: 'Vulnerability Scan',
    description: 'Automated scanning',
    price: '$1,500',
    unit: 'per assessment',
    features: [
      'External network scan',
      'Up to 256 IPs',
      'CVE identification',
      'PDF report',
    ],
  },
  {
    name: 'Penetration Test',
    description: 'Manual testing',
    price: 'From $8,000',
    unit: 'per engagement',
    highlight: true,
    features: [
      'Expert-led testing',
      'Exploitation attempts',
      'Detailed findings',
      'Remediation guidance',
      'Retest included',
    ],
  },
  {
    name: 'Continuous',
    description: 'Ongoing assessment',
    price: '$2,500',
    unit: 'per month',
    features: [
      'Weekly scans',
      'Quarterly pen test',
      'Priority support',
      'Trend reporting',
      'API access',
    ],
  },
];
---

<BaseLayout title="Vulnerability Assessment" description={product.description}>
  <!-- Hero -->
  <section class="section">
    <div class="container">
      <div class="max-w-3xl">
        <p class="text-sm text-neutral-500 mb-3">Products</p>
        <h1 class="mb-4">Vulnerability Assessment</h1>
        <p class="text-xl text-neutral-400 mb-8 max-w-2xl">
          {product.description}
        </p>
        <div class="flex flex-wrap gap-3">
          <a href="#pricing" class="btn-primary">See pricing</a>
          <a href="/contact" class="btn-secondary">Contact sales</a>
        </div>
      </div>
    </div>
  </section>

  <!-- Methodology -->
  <section class="section-sm border-t border-neutral-800">
    <div class="container">
      <div class="mb-12">
        <h2 class="text-2xl mb-2">Methodology</h2>
        <p class="text-neutral-500">Industry-standard testing process.</p>
      </div>

      <div class="diagram mb-12">
        <div class="grid grid-cols-2 md:grid-cols-6 gap-6">
          <div class="text-center">
            <div class="w-10 h-10 rounded-lg bg-neutral-800 flex items-center justify-center mx-auto mb-3">
              <span class="text-sm font-semibold text-white">01</span>
            </div>
            <h4 class="text-xs font-medium text-white mb-1">Recon</h4>
            <p class="text-xs text-neutral-500">Gather intelligence</p>
          </div>
          <div class="text-center">
            <div class="w-10 h-10 rounded-lg bg-neutral-800 flex items-center justify-center mx-auto mb-3">
              <span class="text-sm font-semibold text-white">02</span>
            </div>
            <h4 class="text-xs font-medium text-white mb-1">Scan</h4>
            <p class="text-xs text-neutral-500">Find vulnerabilities</p>
          </div>
          <div class="text-center">
            <div class="w-10 h-10 rounded-lg bg-neutral-800 flex items-center justify-center mx-auto mb-3">
              <span class="text-sm font-semibold text-white">03</span>
            </div>
            <h4 class="text-xs font-medium text-white mb-1">Exploit</h4>
            <p class="text-xs text-neutral-500">Prove risk</p>
          </div>
          <div class="text-center">
            <div class="w-10 h-10 rounded-lg bg-neutral-800 flex items-center justify-center mx-auto mb-3">
              <span class="text-sm font-semibold text-white">04</span>
            </div>
            <h4 class="text-xs font-medium text-white mb-1">Report</h4>
            <p class="text-xs text-neutral-500">Document findings</p>
          </div>
          <div class="text-center">
            <div class="w-10 h-10 rounded-lg bg-neutral-800 flex items-center justify-center mx-auto mb-3">
              <span class="text-sm font-semibold text-white">05</span>
            </div>
            <h4 class="text-xs font-medium text-white mb-1">Remediate</h4>
            <p class="text-xs text-neutral-500">Fix issues</p>
          </div>
          <div class="text-center">
            <div class="w-10 h-10 rounded-lg bg-neutral-800 flex items-center justify-center mx-auto mb-3">
              <span class="text-sm font-semibold text-white">06</span>
            </div>
            <h4 class="text-xs font-medium text-white mb-1">Verify</h4>
            <p class="text-xs text-neutral-500">Confirm fixes</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Services -->
  <section class="section-sm border-t border-neutral-800">
    <div class="container">
      <div class="mb-12">
        <h2 class="text-2xl mb-2">Services</h2>
        <p class="text-neutral-500">Comprehensive security testing.</p>
      </div>

      <div class="grid md:grid-cols-2 gap-8">
        <div class="card p-6">
          <h3 class="text-lg font-semibold text-white mb-3">Automated Vulnerability Scanning</h3>
          <p class="text-sm text-neutral-500 mb-4">
            Continuous scanning to identify known vulnerabilities and misconfigurations.
          </p>
          <ul class="space-y-2 text-sm text-neutral-400">
            <li>• Network scanning</li>
            <li>• Web application scanning</li>
            <li>• Cloud configuration review</li>
            <li>• Scheduled assessments</li>
          </ul>
        </div>

        <div class="card p-6">
          <h3 class="text-lg font-semibold text-white mb-3">Manual Penetration Testing</h3>
          <p class="text-sm text-neutral-500 mb-4">
            Expert-led testing that simulates real-world attacks.
          </p>
          <ul class="space-y-2 text-sm text-neutral-400">
            <li>• External penetration testing</li>
            <li>• Internal penetration testing</li>
            <li>• Social engineering</li>
            <li>• Physical security testing</li>
          </ul>
        </div>

        <div class="card p-6">
          <h3 class="text-lg font-semibold text-white mb-3">Web Application Security</h3>
          <p class="text-sm text-neutral-500 mb-4">
            Comprehensive testing against OWASP Top 10 and beyond.
          </p>
          <ul class="space-y-2 text-sm text-neutral-400">
            <li>• OWASP Top 10 testing</li>
            <li>• API security testing</li>
            <li>• Authentication testing</li>
            <li>• Business logic testing</li>
          </ul>
        </div>

        <div class="card p-6">
          <h3 class="text-lg font-semibold text-white mb-3">Cloud Security Assessment</h3>
          <p class="text-sm text-neutral-500 mb-4">
            Evaluate AWS, Azure, or GCP environments for best practices.
          </p>
          <ul class="space-y-2 text-sm text-neutral-400">
            <li>• IAM review</li>
            <li>• Network security</li>
            <li>• Data protection</li>
            <li>• Compliance mapping</li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- Pricing -->
  <section id="pricing" class="section border-t border-neutral-800">
    <div class="container">
      <div class="mb-12">
        <h2 class="text-2xl mb-2">Pricing</h2>
        <p class="text-neutral-500">Flexible options for one-time or ongoing assessment.</p>
      </div>

      <div class="grid md:grid-cols-3 gap-6 max-w-4xl">
        {pricing.map((plan) => (
          <div class={`card ${plan.highlight ? 'border-primary-500' : ''}`}>
            <div class="p-6">
              <h3 class="text-lg font-semibold text-white mb-1">{plan.name}</h3>
              <p class="text-sm text-neutral-500 mb-4">{plan.description}</p>

              <div class="mb-6">
                <span class="text-2xl font-semibold text-white">{plan.price}</span>
                <span class="text-sm text-neutral-500 ml-1">{plan.unit}</span>
              </div>

              <ul class="space-y-2.5 mb-6">
                {plan.features.map((feature) => (
                  <li class="flex items-start gap-2 text-sm text-neutral-400">
                    <svg class="w-4 h-4 text-neutral-500 mt-0.5 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
                    </svg>
                    {feature}
                  </li>
                ))}
              </ul>

              <a href="/contact" class={plan.highlight ? 'btn-primary w-full justify-center' : 'btn-secondary w-full justify-center'}>
                Get quote
              </a>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- CTA -->
  <section class="section border-t border-neutral-800">
    <div class="container">
      <div class="max-w-2xl">
        <h2 class="text-2xl mb-4">Find vulnerabilities before attackers do</h2>
        <p class="text-neutral-500 mb-8">
          Schedule an assessment to identify security gaps in your infrastructure.
        </p>
        <div class="flex flex-wrap gap-3">
          <a href="/contact" class="btn-primary">Request assessment</a>
          <a href="/contact" class="btn-secondary">Contact sales</a>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>
