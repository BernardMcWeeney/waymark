---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { PRODUCTS } from '../../consts';

const product = PRODUCTS.find(p => p.id === 'phishing-simulation')!;

const pricing = [
  {
    name: 'Starter',
    description: 'For teams up to 100 users',
    price: '$3',
    unit: 'per user/month',
    features: [
      'Basic phishing templates',
      'Monthly campaigns',
      'Standard training modules',
      'Email support',
    ],
  },
  {
    name: 'Professional',
    description: 'For teams up to 500 users',
    price: '$5',
    unit: 'per user/month',
    highlight: true,
    features: [
      'Advanced template library',
      'Unlimited campaigns',
      'Custom training content',
      'Risk scoring',
      'Priority support',
    ],
  },
  {
    name: 'Enterprise',
    description: 'For larger organizations',
    price: 'Custom',
    unit: 'contact sales',
    features: [
      'Unlimited users',
      'White-label platform',
      'Custom domains',
      'API access',
      'Dedicated support',
    ],
  },
];
---

<BaseLayout title={product.title} description={product.description}>
  <!-- Hero -->
  <section class="section">
    <div class="container">
      <div class="max-w-3xl">
        <p class="text-sm text-neutral-500 mb-3">Products</p>
        <h1 class="mb-4">{product.title}</h1>
        <p class="text-xl text-neutral-400 mb-8 max-w-2xl">
          {product.description}
        </p>
        <div class="flex flex-wrap gap-3">
          <a href="#pricing" class="btn-primary">See pricing</a>
          <a href="/contact" class="btn-secondary">Contact sales</a>
        </div>
      </div>
    </div>
  </section>

  <!-- How It Works - Diagram -->
  <section class="section-sm border-t border-neutral-800">
    <div class="container">
      <div class="mb-12">
        <h2 class="text-2xl mb-2">How it works</h2>
        <p class="text-neutral-500">Automated phishing simulation in four steps.</p>
      </div>

      <div class="diagram mb-12">
        <div class="grid md:grid-cols-4 gap-8">
          <div class="text-center">
            <div class="w-12 h-12 rounded-lg bg-neutral-800 flex items-center justify-center mx-auto mb-4">
              <span class="text-lg font-semibold text-white">1</span>
            </div>
            <h4 class="text-sm font-medium text-white mb-2">Configure</h4>
            <p class="text-xs text-neutral-500">Select templates and target groups from your directory</p>
          </div>
          <div class="text-center">
            <div class="w-12 h-12 rounded-lg bg-neutral-800 flex items-center justify-center mx-auto mb-4">
              <span class="text-lg font-semibold text-white">2</span>
            </div>
            <h4 class="text-sm font-medium text-white mb-2">Deploy</h4>
            <p class="text-xs text-neutral-500">Campaigns run automatically with smart delivery timing</p>
          </div>
          <div class="text-center">
            <div class="w-12 h-12 rounded-lg bg-neutral-800 flex items-center justify-center mx-auto mb-4">
              <span class="text-lg font-semibold text-white">3</span>
            </div>
            <h4 class="text-sm font-medium text-white mb-2">Train</h4>
            <p class="text-xs text-neutral-500">Users who click receive immediate training intervention</p>
          </div>
          <div class="text-center">
            <div class="w-12 h-12 rounded-lg bg-neutral-800 flex items-center justify-center mx-auto mb-4">
              <span class="text-lg font-semibold text-white">4</span>
            </div>
            <h4 class="text-sm font-medium text-white mb-2">Report</h4>
            <p class="text-xs text-neutral-500">Track metrics and generate compliance documentation</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Features -->
  <section class="section-sm border-t border-neutral-800">
    <div class="container">
      <div class="mb-12">
        <h2 class="text-2xl mb-2">Features</h2>
        <p class="text-neutral-500">Everything you need for security awareness.</p>
      </div>

      <div class="grid md:grid-cols-2 gap-x-12 gap-y-8">
        <div>
          <h3 class="text-base font-semibold text-white mb-2">Phishing Templates</h3>
          <p class="text-sm text-neutral-500">
            Over 1,000 templates covering credential harvesting, business email compromise, malware delivery, and more. Customize or create your own.
          </p>
        </div>
        <div>
          <h3 class="text-base font-semibold text-white mb-2">Automated Campaigns</h3>
          <p class="text-sm text-neutral-500">
            Schedule recurring campaigns with intelligent delivery timing. Test employees across different attack scenarios automatically.
          </p>
        </div>
        <div>
          <h3 class="text-base font-semibold text-white mb-2">Real-time Tracking</h3>
          <p class="text-sm text-neutral-500">
            Monitor email opens, link clicks, and credential submissions as they happen. Live dashboards show campaign progress.
          </p>
        </div>
        <div>
          <h3 class="text-base font-semibold text-white mb-2">Training Modules</h3>
          <p class="text-sm text-neutral-500">
            Immediate educational intervention when users fall for simulations. Engaging, interactive training that reinforces learning.
          </p>
        </div>
        <div>
          <h3 class="text-base font-semibold text-white mb-2">Risk Analytics</h3>
          <p class="text-sm text-neutral-500">
            Identify high-risk users and departments. Track improvement over time with comprehensive trending reports.
          </p>
        </div>
        <div>
          <h3 class="text-base font-semibold text-white mb-2">Compliance Reports</h3>
          <p class="text-sm text-neutral-500">
            Generate audit-ready documentation for SOC 2, ISO 27001, HIPAA, PCI-DSS, and other frameworks.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Specifications -->
  <section class="section-sm border-t border-neutral-800">
    <div class="container">
      <div class="mb-12">
        <h2 class="text-2xl mb-2">Specifications</h2>
        <p class="text-neutral-500">Technical details and integrations.</p>
      </div>

      <div class="grid md:grid-cols-3 gap-8">
        <div>
          <h4 class="text-xs font-semibold text-neutral-400 uppercase tracking-wider mb-4">Integrations</h4>
          <ul class="space-y-2 text-sm text-neutral-400">
            <li>Microsoft 365 / Azure AD</li>
            <li>Google Workspace</li>
            <li>Okta, OneLogin</li>
            <li>Active Directory</li>
            <li>REST API</li>
          </ul>
        </div>
        <div>
          <h4 class="text-xs font-semibold text-neutral-400 uppercase tracking-wider mb-4">Deployment</h4>
          <ul class="space-y-2 text-sm text-neutral-400">
            <li>Cloud-hosted (SaaS)</li>
            <li>On-premise available</li>
            <li>SOC 2 Type II certified</li>
            <li>GDPR compliant</li>
            <li>99.9% uptime SLA</li>
          </ul>
        </div>
        <div>
          <h4 class="text-xs font-semibold text-neutral-400 uppercase tracking-wider mb-4">Support</h4>
          <ul class="space-y-2 text-sm text-neutral-400">
            <li>Email support</li>
            <li>Knowledge base</li>
            <li>Implementation guide</li>
            <li>Priority support (Pro+)</li>
            <li>Dedicated CSM (Enterprise)</li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- Pricing -->
  <section id="pricing" class="section border-t border-neutral-800">
    <div class="container">
      <div class="mb-12">
        <h2 class="text-2xl mb-2">Pricing</h2>
        <p class="text-neutral-500">14-day free trial. No credit card required.</p>
      </div>

      <div class="grid md:grid-cols-3 gap-6 max-w-4xl">
        {pricing.map((plan) => (
          <div class={`card ${plan.highlight ? 'border-primary-500' : ''}`}>
            <div class="p-6">
              <h3 class="text-lg font-semibold text-white mb-1">{plan.name}</h3>
              <p class="text-sm text-neutral-500 mb-4">{plan.description}</p>

              <div class="mb-6">
                <span class="text-2xl font-semibold text-white">{plan.price}</span>
                {plan.unit !== 'contact sales' && (
                  <span class="text-sm text-neutral-500 ml-1">{plan.unit}</span>
                )}
              </div>

              <ul class="space-y-2.5 mb-6">
                {plan.features.map((feature) => (
                  <li class="flex items-start gap-2 text-sm text-neutral-400">
                    <svg class="w-4 h-4 text-neutral-500 mt-0.5 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
                    </svg>
                    {feature}
                  </li>
                ))}
              </ul>

              <a href="/contact" class={plan.highlight ? 'btn-primary w-full justify-center' : 'btn-secondary w-full justify-center'}>
                {plan.price === 'Custom' ? 'Contact sales' : 'Start trial'}
              </a>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Results -->
  <section class="section-sm border-t border-neutral-800">
    <div class="container">
      <div class="flex flex-wrap gap-12">
        <div>
          <div class="text-3xl font-semibold text-white mb-1">91%</div>
          <p class="text-sm text-neutral-500">Reduction in click rates<br />after 12 months</p>
        </div>
        <div>
          <div class="text-3xl font-semibold text-white mb-1">1,000+</div>
          <p class="text-sm text-neutral-500">Phishing templates<br />available</p>
        </div>
        <div>
          <div class="text-3xl font-semibold text-white mb-1">&lt;5%</div>
          <p class="text-sm text-neutral-500">Target click rate<br />achieved</p>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA -->
  <section class="section border-t border-neutral-800">
    <div class="container">
      <div class="max-w-2xl">
        <h2 class="text-2xl mb-4">Ready to test your organization?</h2>
        <p class="text-neutral-500 mb-8">
          Start a 14-day free trial and see how your team responds to simulated phishing attacks.
        </p>
        <div class="flex flex-wrap gap-3">
          <a href="/contact" class="btn-primary">Start free trial</a>
          <a href="/contact" class="btn-secondary">Talk to sales</a>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>
